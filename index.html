<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>PixelCreator - Compact Pixel Art Editor</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-wrapper">
        <!-- Left Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1 class="app-title">PixelCreator</h1>
                <p class="app-version">v1.0</p>
            </div>

            <!-- File Operations -->
            <div class="sidebar-section">
                <h3 class="section-title">File</h3>
                <button id="newBtn" class="sidebar-btn" title="New Image">
                    <span class="btn-icon">üìÑ</span>
                    <span>New</span>
                </button>
                <button id="saveBtn" class="sidebar-btn" title="Save">
                    <span class="btn-icon">üíæ</span>
                    <span>Save</span>
                </button>
                <button id="loadBtn" class="sidebar-btn" title="Load">
                    <span class="btn-icon">üìÇ</span>
                    <span>Load</span>
                </button>
            </div>

            <!-- Import/Export -->
            <div class="sidebar-section">
                <h3 class="section-title">Import/Export</h3>
                <button id="exportFileBtn" class="sidebar-btn" title="Export as File">
                    <span class="btn-icon">‚¨áÔ∏è</span>
                    <span>Export File</span>
                </button>
                <button id="importStringBtn" class="sidebar-btn" title="Import from Text">
                    <span class="btn-icon">‚¨ÜÔ∏è</span>
                    <span>Import Text</span>
                </button>
            </div>

            <!-- Canvas Size -->
            <div class="sidebar-section">
                <h3 class="section-title">Canvas Size</h3>
                <div class="size-editor">
                    <div class="size-presets">
                        <button class="size-preset" data-size="8">8√ó8</button>
                        <button class="size-preset" data-size="16">16√ó16</button>
                        <button class="size-preset" data-size="32">32√ó32</button>
                        <button class="size-preset" data-size="64">64√ó64</button>
                    </div>
                    <div class="size-custom">
                        <div class="size-input-group">
                            <label>W</label>
                            <input type="number" id="canvasWidth" min="2" max="64" value="8">
                        </div>
                        <span class="size-separator">√ó</span>
                        <div class="size-input-group">
                            <label>H</label>
                            <input type="number" id="canvasHeight" min="2" max="64" value="8">
                        </div>
                    </div>
                    <button id="resizeBtn" class="sidebar-btn btn-block">Apply Size</button>
                </div>
            </div>

            <!-- Actions -->
            <div class="sidebar-section">
                <h3 class="section-title">Actions</h3>
                <button id="clearBtn" class="sidebar-btn btn-danger" title="Clear Canvas">
                    <span class="btn-icon">üóëÔ∏è</span>
                    <span>Clear Canvas</span>
                </button>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Top Bar -->
            <div class="top-bar">
                <div class="canvas-info">
                    <div class="info-badge">
                        <span class="info-label">Size:</span>
                        <span id="canvasSizeDisplay" class="info-value">8√ó8</span>
                    </div>
                    <div class="info-badge">
                        <span class="info-label">Pixels:</span>
                        <span id="characterCount" class="info-value">64</span>
                    </div>
                    <div class="info-badge">
                        <span class="info-label">Color:</span>
                        <span id="currentColorDisplay" class="color-preview-small"></span>
                        <span id="currentColorCode" class="info-value">1</span>
                    </div>
                </div>
            </div>

            <!-- Color Palette -->
            <div class="palette-container">
                <h3 class="section-title">Color Palette</h3>
                <div class="color-palette" id="colorPalette">
                    <!-- Generated dynamically -->
                </div>
            </div>

            <!-- Canvas Area -->
            <div class="canvas-area">
                <div class="canvas-wrapper">
                    <canvas id="pixelCanvas"></canvas>
                </div>
            </div>

            <!-- Live Export Preview -->
            <div class="export-preview">
                <div class="export-preview-header">
                    <h3 class="section-title">Live Export String</h3>
                    <button id="copyLiveStringBtn" class="btn-icon-only" title="Copy to Clipboard">üìã</button>
                </div>
                <div class="export-string-container">
                    <code id="liveExportString" class="export-string">8x8:0000000000000000000000000000000000000000000000000000000000000000</code>
                </div>
                <div class="export-stats">
                    <span class="stat-item">
                        <strong>Format:</strong> <span id="formatInfo">Width√óHeight:PixelData</span>
                    </span>
                    <span class="stat-item">
                        <strong>Length:</strong> <span id="stringLength">68</span> chars
                    </span>
                </div>
            </div>
        </main>
    </div>

    <!-- Import Modal -->
    <div class="modal" id="importModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Import from String</h2>
                <button id="closeImportModal" class="btn-close">&times;</button>
            </div>
            <div class="modal-body">
                <textarea id="importTextarea" rows="6" placeholder="Paste your pixel art string here (e.g., 8x8:000011112222...)"></textarea>
            </div>
            <div class="modal-footer">
                <button id="cancelImportBtn" class="btn btn-secondary">Cancel</button>
                <button id="confirmImportBtn" class="btn btn-success">Import</button>
            </div>
        </div>
    </div>

    <!-- File Selection Modal -->
    <div class="modal" id="fileModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Load File</h2>
                <button id="closeModal" class="btn-close">&times;</button>
            </div>
            <div class="modal-body">
                <div id="fileList"></div>
                <p id="noFilesMessage" style="display: none; text-align: center; color: #666;">
                    No saved files found.
                </p>
            </div>
        </div>
    </div>

    <!-- JavaScript Modules -->
    <script src="js/colorPalette.js"></script>
    <script src="js/canvas.js"></script>
    <script src="js/fileManager.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
